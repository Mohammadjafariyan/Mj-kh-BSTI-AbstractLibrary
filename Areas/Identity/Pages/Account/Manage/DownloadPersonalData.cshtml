@page
@using AbstractLibrary.Model.User
@model DownloadPersonalDataModel

@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "Download Your Data";
    ViewData["ActivePage"] = ManageNavPages.PersonalData;
    
    
    var currentUser= await UserManager.GetUserAsync(User);
    if (UserManager.IsInRoleAsync(currentUser,"Customer").GetAwaiter().GetResult())
    {
        Layout = "~/Pages/Shared/Dashboard/Customer/_Dashboard_Layout.cshtml";
    }
    else
    {
        Layout = "~/Pages/Shared/Dashboard/Admin/_Admin_Layout.cshtml";
    }
}

<h4>@ViewData["Title"]</h4>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}